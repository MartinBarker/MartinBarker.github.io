(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{13:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),c=a(6),r=a.n(c),l=(a(13),a(7));a(26);var i=function(){const[e,t]=Object(o.useState)(""),[a,c]=Object(o.useState)("Click Load to load ffmpeg"),[r,i]=Object(o.useState)(!1),[s,u]=Object(o.useState)(null),m=n.a.useMemo(()=>Object(l.createFFmpeg)({log:!0}),[]),d=n.a.useCallback(async()=>{if(!r)try{c("Loading ffmpeg-core.js"),await m.load(),i(!0),c("ffmpeg loaded. Now you can run commands.")}catch(e){c("Failed to load ffmpeg"),console.error(e)}},[m,r]),p=n.a.useCallback(async()=>{if(r)if(s)try{c("Processing video file");const e="/input";await m.FS("mkdir",e),await m.FS("mount","WORKERFS",{files:[s]},e);const a="".concat(e,"/").concat(s.name),o="/output.mp4",n=["-i",a,"-c","copy",o];await m.run(...n);const r=m.FS("readFile",o);t(URL.createObjectURL(new Blob([r.buffer],{type:"video/mp4"}))),c("Processing complete"),await m.FS("unmount",e),await m.FS("unlink",a),await m.FS("unlink",o)}catch(e){c("Error processing video"),console.error(e)}else c("Please select a file first.");else c("Please load ffmpeg first.")},[m,r,s]);return n.a.createElement("div",{className:"App"},n.a.createElement("header",null,n.a.createElement("h1",null,"Video Processor")),n.a.createElement("input",{type:"file",onChange:e=>{const t=e.target.files[0];t&&u(t)}}),n.a.createElement("button",{onClick:d,disabled:r},"Load ffmpeg"),n.a.createElement("button",{onClick:p},"Process Video"),n.a.createElement("video",{src:e,controls:!0}),n.a.createElement("p",null,a))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})},8:function(e,t,a){e.exports=a(27)}},[[8,1,2]]]);
//# sourceMappingURL=main.cc69bcf3.chunk.js.map