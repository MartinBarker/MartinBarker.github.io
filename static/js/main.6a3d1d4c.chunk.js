(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{13:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(7),o=a.n(r),c=(a(13),a(1));a(26);var i=function(){const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)("Click Start to transcode"),[o,i]=Object(n.useState)([]),[m,s]=Object(n.useState)([]),u=Object(c.createFFmpeg)({log:!0});return l.a.createElement("div",{className:"App"},l.a.createElement("input",{type:"file",multiple:!0,onChange:e=>{const t=Array.from(e.target.files),a=t.filter(e=>e.type.startsWith("audio/")),n=t.filter(e=>e.type.startsWith("image/"));i(a),s(n)}}),l.a.createElement("div",null,l.a.createElement("h3",null,"Audio Files"),l.a.createElement("table",null,l.a.createElement("tbody",null,o.map((e,t)=>l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.name)))))),l.a.createElement("div",null,l.a.createElement("h3",null,"Image Files"),l.a.createElement("table",null,l.a.createElement("tbody",null,m.map((e,t)=>l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.name)))))),l.a.createElement("video",{src:e,controls:!0}),l.a.createElement("br",null),l.a.createElement("button",{onClick:async()=>{if(0===o.length||0===m.length)return void r("Please select at least one audio and one image file.");r("Loading ffmpeg-core.js"),await u.load(),r("Start rendering video");const e=o[0],a=m[0];u.FS("writeFile","audio.mp3",await Object(c.fetchFile)(URL.createObjectURL(e))),u.FS("writeFile","image.jpg",await Object(c.fetchFile)(URL.createObjectURL(a)));const n=["-loop","1","-framerate","2","-i","image.jpg","-i","audio.mp3","-c:v","libx264","-preset","slow","-tune","stillimage","-crf","18","-c:a","aac","-b:a","192k","-shortest","output.mp4"];console.log("Running ffmpeg command:",n.join(" ")),await u.run(...n),r("Complete rendering video");const l=u.FS("readFile","output.mp4");t(URL.createObjectURL(new Blob([l.buffer],{type:"video/mp4"})))}},"Render Video"),l.a.createElement("p",null,a))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(i,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})},8:function(e,t,a){e.exports=a(27)}},[[8,1,2]]]);
//# sourceMappingURL=main.6a3d1d4c.chunk.js.map